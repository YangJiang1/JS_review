<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <!--    
        实现秒表功能 : 显示时,分,秒 , 点击按钮开始计时

        不能用setInterval来做倒计时,因为和CPU和内存有关系,setInterval的速度取决于CPU和内存的速度 
        倒计时我们要用date来做,为了练习这里就用num计算器 
    -->
    <div class="text"></div>
    <button class="btn1">GO</button>
    <button class="btn2">STOP</button>


    <script>
        var btn1 = document.querySelector('.btn1');
        var btn2 = document.querySelector('.btn2');
        var text = document.querySelector('.text');
        var timer = null;
        var flag = false;

        btn1.onclick = function() {
            //为了不让定时器重复定时
            if (flag) {
                clearTimeout(timer);
                timer = null;
            }
            var num = 0;
            timer = setInterval(function() {
                flag = true;
                num++;
                var s = num % 60; //取整 0-59秒
                var m = parseInt(num / 60 % 60); //分
                var h = parseInt(num / 60 / 60 % 24); //小时 

                s = s < 10 ? "0" + s : s;
                m = m < 10 ? "0" + m : m;
                h = h < 10 ? "0" + h : h;
                text.innerHTML = `${h}时 ${m}分 ${s} 秒`;

            }, 1)
        }

        //清除定时器
        btn2.onclick = function() {
            clearTimeout(timer);
            timer = null;
        }
    </script>
</body>

</html>